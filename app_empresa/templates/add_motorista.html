{% extends 'base_page.html' %}


{% block content %}
<div class="texto-card" style="text-align: center; margin-bottom: 30px;"> 
    {% if form.instance.pk %}
    <h1 style="text-align: center;">Editar Motorista</h1>
    {% else %}
    <h1 style="text-align: center;">Cadastrar Motorista</h1>
    {% endif %}

</div>

<div class="card-login"> 
    <form method="POST" action="{% if form.instance.pk %}{% url 'editar_motorista' form.instance.pk %}{% else %}{% url 'add_motorista' %}{% endif %}">
    {% csrf_token %}
    
        <div class="form-group">
            <label for="nome">Nome</label>
            {{ form.nome }}
        </div>

        <div class="form-group">
            <label for="funcao">Função</label>
            {{ form.funcao }}
        </div>

        <div class="form-group">
            <label for="cpf">CPF</label>
            {{ form.cpf }}
        </div>
            
        <button type="submit" class="btn-login">
            {% if form.instance.pk %}Atualizar{% else %}Cadastrar{% endif %}
        </button>

    </form>
</div>

{% if mostrar_modal %}
<!-- Modal -->
<div id="senhaModal" class="modal" style="display:block; position: fixed; top: 0; left: 0; width:100%; height:100%; background-color: rgba(0,0,0,0.5);">
    <div style="background-color: #fff; margin: 15% auto; padding: 20px; border-radius: 10px; width: 300px; text-align:center;">
        <h3>Senha Gerada</h3>
        <p>Anote a senha e entregue para o funcionario: {{ funcionario }}</p>
        <p>Codigo de Acesso:<strong>{{ codigo }}</strong></p>
        <p>Senha:<strong>{{ senha_gerada }}</strong></p>
        <button onclick="fecharModalERedirecionar()" style="margin-top:10px; padding: 5px 10px;">OK</button>
    </div>
</div>

<script>
function fecharModalERedirecionar() {
    document.getElementById('senhaModal').style.display = 'none';
    window.location.href = "{% url 'lista_motorista' %}";
}
</script>
{% endif %}

<style>
    /* Estilização para o card principal do formulário */
    .card-login {
        background-color: #ffffff; /* Fundo branco do card */
        padding: 35px 30px;       /* Padding interno do card (ajustado para mais espaço vertical) */
        border-radius: 25px;      /* Cantos arredondados do card */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08); /* Sombra sutil (ajustada) */
        width: 100%;
        max-width: 350px;         /* Largura máxima do card (ajustada para ser similar à imagem) */
        box-sizing: border-box;   /* Garante que padding não aumente a largura total */
        margin: 0 auto;           /* Centraliza o card se o container pai permitir */
    }

    /* Estilização para o texto introdutório (opcional, baseado no seu HTML) */
    .texto-card h1 {
        font-size: 50px;          /* Tamanho do título "Login" */
        color: #0e0e0e;
        margin-top: 0;
        margin-bottom: 5px;
        font-weight: 600;
    }

    /* Estilização para os grupos de formulário (label + input) */
    .form-group {
        margin-bottom: 20px;      /* Espaçamento entre os grupos de label/input */
        width: 100%;
    }

    .form-group:last-of-type { /* Remove a margem inferior do último grupo antes do botão */
        margin-bottom: 25px;
    }

    .form-group label {
        display: block;           /* Faz o label ocupar a linha toda */
        font-size: 13px;          /* Tamanho da fonte do label */
        color: #808080;           /* Cor do label (cinza claro da imagem) */
        margin-bottom: 8px;       /* Espaçamento abaixo do label */
        padding-left: 18px;       /* Alinha o label com o texto do input (ajustado) */
        text-align: left;         /* Alinhamento do label */
    }
    
    /* Estilização para os campos de input */
    .login-input {
        width: 100%;
        padding: 15px 20px;       /* Padding interno do input (altura e espaço para o texto) */
        border: none;             /* Remove a borda padrão */
        border-radius: 50px;      /* Cantos bem arredondados (formato pílula) */
        background-color: #f1f1f1; /* Cor de fundo do input (cinza bem claro da imagem) */
        font-family: inherit;     /* Usa a fonte do corpo/pai */
        font-size: 15px;          /* Tamanho da fonte do texto do input */
        color: #333;              /* Cor do texto digitado */
        text-align: left;         /* Alinhamento do texto e placeholder */
        box-sizing: border-box;   /* Garante que padding não aumente a largura total */
        line-height: normal;      /* Garante altura de linha padrão */
    }
    
    .login-input::placeholder {
        color: #505050;           /* Cor do placeholder (mais escura, como na imagem) */
        text-align: left;         /* Alinhamento do placeholder */
    }
    
    .login-input:focus {
        outline: none;            /* Remove o outline padrão ao focar */
        background-color: #e9e9e9; /* Leve mudança de cor ao focar */
    }
    
    /* Estilização para o botão de login */
    .btn-login {
        width: 100%;
        padding: 15px 20px;       /* Padding interno do botão */
        border: none;
        border-radius: 50px;      /* Cantos bem arredondados */
        background-color: #4FBBAF; /* Cor verde-azulada do botão (ajuste fino da cor) */
        color: white;             /* Cor do texto do botão */
        font-family: inherit;
        font-size: 15px;          /* Tamanho da fonte do botão */
        font-weight: bold;
        text-transform: uppercase; /* Texto em maiúsculas */
        letter-spacing: 0.5px;    /* Pequeno espaçamento entre letras */
        cursor: pointer;
        transition: background-color 0.2s ease-in-out;
        margin-top: 10px;         /* Espaçamento acima do botão */
    }
    
    .btn-login:hover {
        background-color: #339186; /* Cor do botão no hover (um pouco mais escura) */
    }
</style>

{% endblock %}

{% block middle-btn %} {% endblock %}